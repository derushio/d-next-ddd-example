productName: "d-next-ddd-example"

asar: true
afterPack: "./afterPack.js"
directories:
  buildResources: build
  output: dist
files:
  - "main.js"
  - ".next/**/*"
  - "public/**/*"
  - "package.json"
  - "src/layers/infrastructure/persistence/prisma/generated/**/*"
  - "!**/.vscode/*"
  - "!src/**/test*"
  - "!src/**/*.test.*"
extraResources:
  - from: "src/layers/infrastructure/persistence/prisma/generated"
    to: "src/layers/infrastructure/persistence/prisma/generated"
  - from: "node_modules/@prisma/client"
    to: "node_modules/@prisma/client"
  - from: "node_modules/@prisma/engines"
    to: "node_modules/@prisma/engines"
  - from: "prisma"
    to: "prisma"
asarUnpack:
  - "src/layers/infrastructure/persistence/prisma/generated/**/*"
  - "node_modules/@prisma/**/*"
  - "prisma/**/*"

win:
  executableName: "d-next-ddd-example"
nsis:
  artifactName: ${name}-${version}-setup.${ext}
  shortcutName: ${productName}
  uninstallDisplayName: ${productName}
  createDesktopShortcut: always

linux:
  target:
    - dir
    - AppImage
appImage:
  artifactName: ${name}-${version}.${ext}
npmRebuild: false
