# タスク完了チェックリスト

## 🚨 実装前チェックリスト（必須実行）

### 任意の実装開始前に必ず実行

1. **📖 適切なドキュメント読み込み** - CLAUDE.mdのタスクマップから該当ドキュメント確認
2. **🏗️ アーキテクチャ準拠性確認** - レイヤー責務と依存関係の方向性確認
3. **🔧 実装ルール確認** - Result型、DI、インポート、テストルール遵守
4. **✅ 完了時品質確認** - `pnpm test && pnpm lint && pnpm type-check && pnpm build`

## 🔄 コード実装時の品質チェック

### Pull Request提出前チェックリスト

#### **実装品質**

- [ ] アーキテクチャ原則遵守（レイヤー分離・依存関係）
- [ ] Result型パターン統一（全UseCase）
- [ ] 依存性注入の適切な使用（@injectable()、resolve()）
- [ ] エラーハンドリングの統一

#### **コード品質**

- [ ] ESLint・TypeScriptエラーなし
- [ ] テストカバレッジ基準達成（Application 94%+、Domain 90%+、Infrastructure 85%+）
- [ ] 適切なコメント記述（なぜの説明、whatは避ける）
- [ ] 命名規則遵守

#### **機能品質**

- [ ] ビジネス要件の適切な実装
- [ ] エッジケース対応
- [ ] セキュリティ考慮事項

## ⚡ タスク完了時の実行順序（推奨）

### 1. コード品質確保

```bash
pnpm format       # コードフォーマット実行
pnpm type-check   # TypeScript型チェック
pnpm lint         # ESLint実行
```

### 2. テスト実行

```bash
pnpm test:unit    # ユニットテスト実行
pnpm test:e2e     # E2Eテスト実行（必要に応じて）
```

### 3. ビルド確認

```bash
pnpm build        # 本番ビルド確認
```

### 4. 統合確認（推奨）

```bash
pnpm check        # 全品質チェック実行
```

## 🎯 品質基準（必達）

### コード品質メトリクス

- **ESLint**: 0 errors
- **TypeScript**: 0 errors
- **Test Coverage**:
  - Application Layer: 94%以上
  - Domain Layer: 90%以上
  - Infrastructure Layer: 85%以上
- **Complexity**: 関数あたり10未満

### アーキテクチャ準拠性

- **レイヤー分離**: 適切な依存関係の方向
- **Result型**: 全UseCaseでの統一使用
- **DI**: 適切なConstructor Injection / Dynamic Resolution
- **インポート**: Alias使用、相対パス禁止

## 🚫 実装禁止事項

### アーキテクチャ違反

- [ ] レイヤー越境の直接依存
- [ ] Domain層でのフレームワーク依存
- [ ] 相対パスでのインポート
- [ ] index.tsファイルの作成

### コード品質違反

- [ ] any型の使用
- [ ] 例外の直接throw（Result型使用必須）
- [ ] 個人的なTODO・FIXMEコメント
- [ ] 不適切な命名（略語・曖昧な名前）

## 📋 コミット前の最終確認

### Git操作前

1. **変更内容確認**: `git status` で変更ファイル確認
2. **品質チェック完了**: 上記品質基準全て満たしている
3. **テスト成功**: 全テストがパスしている
4. **ビルド成功**: `pnpm build` が正常完了

### コミットメッセージ

- **簡潔で明確**: 変更の意図を明確に記載
- **種別明記**: feat/fix/refactor/test/docs等の接頭辞
- **スコープ指定**: 影響範囲を明確に（例：feat(user): ユーザー作成機能追加）

## 🎉 タスク完了の定義

### 完了とみなす条件

- [ ] 全品質チェックパス（`pnpm check` 成功）
- [ ] 要求機能の完全実装
- [ ] 適切なテストカバレッジ達成
- [ ] ドキュメント更新（必要に応じて）
- [ ] レビュー可能な状態での提出

**🎯 これらのチェックリストを遵守することで、高品質で保守性の高いコードベースを維持できます！**
